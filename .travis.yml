matrix:
  include:
    - language: java
      sudo: false
      before_install:
        - openssl aes-256-cbc -K $encrypted_261f0aee381c_key -iv $encrypted_261f0aee381c_iv -in credentials.tar.gz.enc -out credentials.tar.gz -d
        - gcloud auth activate-service-account --key-file client-secret.json
      script:
        - gcloud config set project oceanic-trees-254104
        - cd restful-web-services
        - mvn clean install
        - mvn test

    - language: node_js
      sudo: false
      script: 
        - cd frontend/todo-app
        - npm install
        - gcloud -q app deploy /src/app.yaml
